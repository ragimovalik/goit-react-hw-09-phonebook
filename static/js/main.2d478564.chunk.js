(this["webpackJsonpgoit-react-hw-08-phonebook"]=this["webpackJsonpgoit-react-hw-08-phonebook"]||[]).push([[1],{10:function(t,e,n){"use strict";n.d(e,"h",(function(){return r})),n.d(e,"i",(function(){return a})),n.d(e,"g",(function(){return o})),n.d(e,"b",(function(){return u})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return s})),n.d(e,"e",(function(){return b})),n.d(e,"f",(function(){return l})),n.d(e,"d",(function(){return j})),n.d(e,"j",(function(){return d}));var c=n(5),r=Object(c.b)("contacts/getContactsRequest"),a=Object(c.b)("contacts/getContactsSuccess"),o=Object(c.b)("contacts/getContactsError"),u=Object(c.b)("contacts/addContactRequest"),i=Object(c.b)("contacts/addContactSuccess"),s=Object(c.b)("contacts/addContactError"),b=Object(c.b)("contacts/deleteContactRequest"),l=Object(c.b)("contacts/deleteContactSuccess"),j=Object(c.b)("contacts/deleteContactError"),d=Object(c.b)("contacts/setFilter")},13:function(t,e,n){t.exports={colors:"'../../colors.css'",bgcPrimary:"#e0e8e5",darkened:"#597387",lightened:"#f6fafb",white:"#ffffff",Header__box:"Nav_Header__box__2mbHT",Nav:"Nav_Nav__2hbXh",Nav__links:"Nav_Nav__links__2sHHm",Nav__auth:"Nav_Nav__auth__3zRpg",Nav__item:"Nav_Nav__item__umT5A","Nav__item--active":"Nav_Nav__item--active__3Axa6"}},24:function(t,e,n){"use strict";n.d(e,"a",(function(){return c})),n.d(e,"b",(function(){return r}));var c=function(t){var e;return!!(null===(e=t.auth)||void 0===e?void 0:e.isLoggedIn)},r=function(t){var e,n;return null===(e=t.auth)||void 0===e||null===(n=e.user)||void 0===n?void 0:n.name}},32:function(t,e,n){"use strict";n.d(e,"d",(function(){return l})),n.d(e,"b",(function(){return j})),n.d(e,"c",(function(){return d})),n.d(e,"a",(function(){return f}));var c=n(22),r=n.n(c),a=n(28),o=n(25),u=n.n(o),i=n(17),s=n(6);u.a.defaults.baseURL="https://connections-api.herokuapp.com";var b={set:function(t){u.a.defaults.headers.common.Authorization="Bearer ".concat(t)},unset:function(){u.a.defaults.headers.common.Authorization=""}},l=function(t){return function(){var e=Object(a.a)(r.a.mark((function e(n){var c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(s.k()),e.prev=1,e.next=4,u.a.post("/users/signup",t);case 4:c=e.sent,b.set(c.data.token),n(s.l(c.data)),i.c.success("Your are joined to the Phonebook"),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),400===e.t0.response.status?i.c.error("User email is already in use"):i.c.error(e.t0.message),n(s.j(e.t0.message));case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}()},j=function(t){return function(){var e=Object(a.a)(r.a.mark((function e(n){var c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(s.e()),e.prev=1,e.next=4,u.a.post("/users/login",t);case 4:c=e.sent,b.set(c.data.token),n(s.f(c.data)),i.c.success("Welcome! You are logged in"),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),400===e.t0.response.status?i.c.error("Incorrect Email address or Password"):i.c.error(e.t0.message),n(s.d(e.t0.message));case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}()},d=function(){return function(){var t=Object(a.a)(r.a.mark((function t(e){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(s.h()),t.prev=1,t.next=4,u.a.post("/users/logout");case 4:b.unset(),e(s.i()),i.c.success("See you later :)"),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(1),i.c.error(t.t0.message),e(s.g(t.t0.message));case 13:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},f=function(){return function(){var t=Object(a.a)(r.a.mark((function t(e,n){var c,a,o;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c=n(),a=c.auth.token,console.log("token",b),console.log("persisted token",a),a){t.next=5;break}return t.abrupt("return");case 5:return b.set(a),e(s.b()),t.prev=7,t.next=10,u.a.get("/users/current");case 10:o=t.sent,e(s.c(o.data)),t.next=18;break;case 14:t.prev=14,t.t0=t.catch(7),i.c.error(null===t.t0||void 0===t.t0?void 0:t.t0.message),e(s.a(t.t0.message));case 18:case"end":return t.stop()}}),t,null,[[7,14]])})));return function(e,n){return t.apply(this,arguments)}}()}},41:function(t,e,n){t.exports={colors:"'../../colors.css'",text:"#252b31",darkened:"#597387",Animated:"Spinner_Animated__lmiUy",Spin:"Spinner_Spin__3YU82",Spinner__wrapper:"Spinner_Spinner__wrapper__XFs4Z"}},42:function(t,e,n){"use strict";var c=n(30),r=n(2),a=Object(c.a)({Container:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",margin:[5,"auto"],padding:[0,10]}});e.a=function(t){var e=t.children,n=a();return Object(r.jsx)("div",{className:n.Container,children:e})}},53:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var c=n(59),r=n(41),a=n.n(r),o=n(2),u=function(t){var e=t.size;return Object(o.jsx)("div",{className:a.a.Spinner__wrapper,children:Object(o.jsx)(c.a,{className:a.a.Animated,size:e})})};u.defaultProps={size:"3rem"};var i=u},6:function(t,e,n){"use strict";n.d(e,"k",(function(){return r})),n.d(e,"l",(function(){return a})),n.d(e,"j",(function(){return o})),n.d(e,"e",(function(){return u})),n.d(e,"f",(function(){return i})),n.d(e,"d",(function(){return s})),n.d(e,"h",(function(){return b})),n.d(e,"i",(function(){return l})),n.d(e,"g",(function(){return j})),n.d(e,"b",(function(){return d})),n.d(e,"c",(function(){return f})),n.d(e,"a",(function(){return O}));var c=n(5),r=Object(c.b)("auth/registerRequest"),a=Object(c.b)("auth/registerSuccess"),o=Object(c.b)("auth/registerError"),u=Object(c.b)("auth/loginRequest"),i=Object(c.b)("auth/loginSuccess"),s=Object(c.b)("auth/loginError"),b=Object(c.b)("auth/logoutRequest"),l=Object(c.b)("auth/logoutSuccess"),j=Object(c.b)("auth/logoutError"),d=Object(c.b)("auth/getCurrentRequest"),f=Object(c.b)("auth/getCurrentSuccess"),O=Object(c.b)("auth/getCurrentError")},96:function(t,e,n){},98:function(t,e,n){"use strict";n.r(e);var c,r,a,o,u,i,s,b=n(1),l=n.n(b),j=n(19),d=n(34),f=n.n(d),O=n(15),p=n(55),h=n(5),m=n(23),v=n(56),x=n.n(v),_=n(4),g=n(31),N=n(10),y=n(9),k=Object(h.c)([],(c={},Object(_.a)(c,N.i,(function(t,e){return e.payload})),Object(_.a)(c,N.c,(function(t,e){return[].concat(Object(g.a)(t),[e.payload])})),Object(_.a)(c,N.f,(function(t,e){return t.filter((function(t){return t.id!==e.payload}))})),c)),C=Object(h.c)("",Object(_.a)({},N.j,(function(t,e){return e.payload}))),S=Object(h.c)(null,(r={},Object(_.a)(r,N.g,(function(t,e){return e.payload})),Object(_.a)(r,N.a,(function(t,e){return e.payload})),Object(_.a)(r,N.d,(function(t,e){return e.payload})),r)),w=Object(h.c)(!1,(a={},Object(_.a)(a,N.h,(function(){return!0})),Object(_.a)(a,N.i,(function(){return!1})),Object(_.a)(a,N.g,(function(){return!1})),Object(_.a)(a,N.b,(function(){return!0})),Object(_.a)(a,N.c,(function(){return!1})),Object(_.a)(a,N.a,(function(){return!1})),Object(_.a)(a,N.e,(function(){return!0})),Object(_.a)(a,N.f,(function(){return!1})),Object(_.a)(a,N.d,(function(){return!1})),a)),R=Object(y.b)({items:k,filter:C,loading:w,error:S}),z=n(6),P={name:null,email:null},E=Object(h.c)(P,(o={},Object(_.a)(o,z.l,(function(t,e){return e.payload.user})),Object(_.a)(o,z.f,(function(t,e){return e.payload.user})),Object(_.a)(o,z.i,(function(){return P})),Object(_.a)(o,z.c,(function(t,e){return e.payload})),o)),H=Object(h.c)(null,(u={},Object(_.a)(u,z.l,(function(t,e){return e.payload.token})),Object(_.a)(u,z.f,(function(t,e){return e.payload.token})),Object(_.a)(u,z.i,(function(){return null})),u)),A=Object(h.c)(null,(i={},Object(_.a)(i,z.j,(function(t,e){return e.payload})),Object(_.a)(i,z.d,(function(t,e){return e.payload})),Object(_.a)(i,z.g,(function(t,e){return e.payload})),Object(_.a)(i,z.a,(function(t,e){return e.payload})),i)),U=Object(h.c)(!1,(s={},Object(_.a)(s,z.l,(function(){return!0})),Object(_.a)(s,z.f,(function(){return!0})),Object(_.a)(s,z.c,(function(){return!0})),Object(_.a)(s,z.i,(function(){return!1})),Object(_.a)(s,z.j,(function(){return!1})),Object(_.a)(s,z.d,(function(){return!1})),Object(_.a)(s,z.g,(function(){return!1})),s)),q=Object(y.b)({user:E,isLoggedIn:U,token:H,error:A}),F={key:"auth",storage:x.a,whitelist:["token"]},L=Object(h.a)({reducer:{auth:Object(m.g)(F,q),contacts:R},middleware:Object(h.d)({serializableCheck:{ignoredActions:[m.a,m.f,m.b,m.c,m.d,m.e]}}),devTools:!1}),I=Object(m.h)(L),T=n(8),Y=n(17),B=n(32),D=[{path:"/",title:"Home",exact:!0,component:Object(b.lazy)((function(){return n.e(8).then(n.bind(null,262))})),privateRoute:!1,restricted:!1},{path:"/contacts",title:"Contacts",exact:!0,component:Object(b.lazy)((function(){return Promise.all([n.e(5),n.e(4)]).then(n.bind(null,263))})),privateRoute:!0,restricted:!1},{path:"/login",title:"Login",exact:!0,component:Object(b.lazy)((function(){return Promise.all([n.e(0),n.e(6)]).then(n.bind(null,264))})),privateRoute:!1,restricted:!0},{path:"/registration",title:"Registration",exact:!0,component:Object(b.lazy)((function(){return Promise.all([n.e(0),n.e(7)]).then(n.bind(null,265))})),privateRoute:!1,restricted:!0}],J=n(42),W=n(2),X=function(){return Object(W.jsx)(J.a,{children:Object(W.jsx)("h2",{style:{margin:10},children:"Page Not Found"})})},M=n(20),Z=n(33),G=n(24),K=["component"],Q=function(t){var e=t.component,n=Object(Z.a)(t,K),c=Object(O.c)(G.a);return Object(W.jsx)(T.b,Object(M.a)(Object(M.a)({},n),{},{render:function(t){return c?Object(W.jsx)(e,Object(M.a)({},t)):Object(W.jsx)(T.a,{to:"/login"})}}))},V=["component"],$=function(t){var e=t.component,n=Object(Z.a)(t,V),c=Object(O.c)(G.a);return Object(W.jsx)(T.b,Object(M.a)(Object(M.a)({},n),{},{render:function(t){return c&&n.restricted?Object(W.jsx)(T.a,{to:"/contacts"}):Object(W.jsx)(e,Object(M.a)({},t))}}))},tt=n(30),et=n(58),nt=Object(tt.a)({Flex:{display:"flex",justifyContent:"center",alignItems:"center"},User__greetings:{marginRight:10},User__name:{marginLeft:5,textDecoration:"underline",fontStyle:"italic",textTransform:"uppercase"}}),ct=function(){var t=Object(O.c)(G.b),e=Object(O.b)(),n=nt();return Object(W.jsxs)("div",{className:n.Flex,children:[Object(W.jsxs)("p",{className:[n.Flex,n.User__greetings].join(" "),children:["Welcome ",Object(W.jsx)("span",{className:n.User__name,children:t})]}),Object(W.jsx)("button",{type:"button",onClick:function(){return e(Object(B.c)())},children:Object(W.jsx)(et.a,{style:{fontSize:"1.2rem"}})})]})},rt=n(13),at=n.n(rt),ot=function(){return Object(W.jsxs)("ul",{className:at.a.Nav__auth,children:[Object(W.jsx)("li",{children:Object(W.jsx)(j.c,{to:"/login",exact:!0,className:at.a.Nav__item,activeClassName:at.a["Nav__item--active"],children:"Login"})},"LoginPage"),Object(W.jsx)("li",{children:Object(W.jsx)(j.c,{to:"/registration",exact:!0,className:at.a.Nav__item,activeClassName:at.a["Nav__item--active"],children:"Registration"})},"RegistrationPage")]})},ut=function(){var t=Object(O.c)(G.a);return Object(W.jsx)("header",{className:at.a.Header__box,children:Object(W.jsxs)("nav",{className:at.a.Nav,children:[Object(W.jsxs)("ul",{className:at.a.Nav__links,children:[Object(W.jsx)("li",{children:Object(W.jsx)(j.c,{to:"/",exact:!0,className:at.a.Nav__item,activeClassName:at.a["Nav__item--active"],children:"Home"})},"HomePage"),t&&Object(W.jsx)("li",{children:Object(W.jsx)(j.c,{to:"/contacts",exact:!0,className:at.a.Nav__item,activeClassName:at.a["Nav__item--active"],children:"Contacts"})},"Contacts")]}),t?Object(W.jsx)(ct,{}):Object(W.jsx)(ot,{})]})})},it=n(53),st=function(){var t=Object(O.b)();return Object(b.useEffect)((function(){t(Object(B.a)())}),[]),Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(ut,{}),Object(W.jsx)(b.Suspense,{fallback:Object(W.jsx)(it.a,{size:"5rem"}),children:Object(W.jsxs)(T.d,{children:[D.map((function(t){var e=t.exact,n=t.path,c=t.component,r=t.privateRoute,a=t.title,o=t.restricted;return r?Object(W.jsx)(Q,{path:n,component:c,exact:e,title:a,restricted:o},a):Object(W.jsx)($,{path:n,component:c,exact:e,title:a,restricted:o},a)})),Object(W.jsx)(X,{})]})}),Object(W.jsx)(Y.a,{})]})};n(96),n(97);f.a.render(Object(W.jsx)(l.a.StrictMode,{children:Object(W.jsx)(j.a,{children:Object(W.jsx)(O.a,{store:L,children:Object(W.jsx)(p.a,{loading:null,persistor:I,children:Object(W.jsx)(st,{})})})})}),document.getElementById("root"))}},[[98,2,3]]]);
//# sourceMappingURL=main.2d478564.chunk.js.map